{% extends "base.html" %}

{% block title %}Cocktail Recipes - Explore Our Collection{% endblock %}

{% block extra_css %}
<style>
    /* Inline styles for demo; will be moved to CSS later */
    .search-section { margin: 2rem auto; max-width: 800px; }
    .search-form { display: flex; }
    .search-input { flex: 1; padding: 12px 16px; border: 2px solid #ddd; border-radius: 8px 0 0 8px; font-size: 1rem; }
    .search-button { padding: 12px 24px; background: #4a6fa5; color: white; border: none; border-radius: 0 8px 8px 0; cursor: pointer; }
    .filters { display: flex; flex-wrap: wrap; gap: 1rem; margin: 1.5rem 0; }
    .filter-tag { padding: 8px 16px; background: #f0f0f0; border-radius: 20px; cursor: pointer; }
    .filter-tag.active { background: #4a6fa5; color: white; }
    .cocktail-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 2rem; }
    /* Loading spinner */
    .loading {
        text-align: center;
        padding: 2rem;
        color: var(--color-info);
    }
    .spinner {
        border: 4px solid rgba(0, 0, 0, 0.1);
        border-left-color: var(--color-info);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
    }
    @keyframes spin {
        to { transform: rotate(360deg); }
    }
    /* No results message */
    .no-results {
        text-align: center;
        padding: 3rem;
        color: var(--color-text-secondary);
    }
    /* Result count */
    .result-count {
        margin: 1rem 0;
        font-size: 0.9rem;
        color: var(--color-text-secondary);
    }
    .result-count .count {
        font-weight: bold;
        color: var(--color-info);
    }
    /* Advanced filters */
    .advanced-filters {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin: 1.5rem 0;
        align-items: center;
    }
    .filter-group {
        display: flex;
        flex-direction: column;
        flex: 1;
        min-width: 200px;
    }
    .filter-group label {
        font-weight: bold;
        margin-bottom: 0.5rem;
        color: var(--color-text-primary);
    }
    .filter-group select {
        padding: 0.5rem;
        border: 2px solid var(--color-card-border);
        border-radius: 4px;
        background: var(--color-card-bg);
        color: var(--color-text-primary);
        font-size: 1rem;
    }
</style>
{% endblock %}

{% block content %}
    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <h1>Cocktail Recipes</h1>
            <p class="lead">Browse our curated collection of cocktail recipes. Use the search and filters to find your perfect drink.</p>
        </div>

        <!-- Search Bar -->
        <section class="search-section">
            <form class="search-form" id="searchForm">
                <input type="text" class="search-input" placeholder="Search by name, ingredient, or tag..." aria-label="Search recipes" id="searchInput">
                <button type="submit" class="search-button">
                    <i class="fas fa-search"></i> Search
                </button>
            </form>
            <div class="filters">
                <span class="filter-tag active" data-filter="all">All</span>
                <span class="filter-tag" data-filter="gin">Gin</span>
                <span class="filter-tag" data-filter="vodka">Vodka</span>
                <span class="filter-tag" data-filter="rum">Rum</span>
                <span class="filter-tag" data-filter="tequila">Tequila</span>
                <span class="filter-tag" data-filter="whiskey">Whiskey</span>
                <span class="filter-tag" data-filter="easy">Easy</span>
                <span class="filter-tag" data-filter="classic">Classic</span>
                <span class="filter-tag" data-filter="refreshing">Refreshing</span>
            </div>
            <div class="advanced-filters">
                <div class="filter-group">
                    <label for="base-spirit-filter">Base Spirit</label>
                    <select id="base-spirit-filter" multiple size="3">
                        <option value="">All Base Spirits</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="difficulty-filter">Difficulty</label>
                    <select id="difficulty-filter" multiple size="3">
                        <option value="">All Difficulties</option>
                    </select>
                </div>
                <button id="reset-filters" class="filter-tag">Reset Filters</button>
            </div>
            <div id="result-count" class="result-count">
                <span class="count">0</span> of <span class="total">0</span> cocktails
            </div>
        </section>

        <!-- Recipe Grid -->
        <section class="recipe-grid">
            <div id="loading-indicator" class="loading" style="display: none;">
                <div class="spinner"></div>
                <p>Loading cocktails...</p>
            </div>
            <div id="no-results-message" class="no-results" style="display: none;">
                <h3>No cocktails found</h3>
                <p>Try adjusting your search or filters</p>
            </div>
            <div class="cocktail-grid" id="cocktailGrid">
                <!-- Card 1 -->
                <div class="cocktail-card" data-tags="gin classic strong">
                    <div class="card-image">
                        <img src="https://via.placeholder.com/400x300/6d8cbf/ffffff?text=Gin+Tonic" alt="Gin & Tonic">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Gin & Tonic</h3>
                        <p class="card-description">Crisp, refreshing, and simple – the quintessential summer drink.</p>
                        <div class="card-tags">
                            <span class="tag">Gin</span>
                            <span class="tag">Easy</span>
                            <span class="tag">Refreshing</span>
                        </div>
                        <a href="{{ url_for('main.recipe_detail', id=5) }}" class="card-link">View Recipe <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="cocktail-card" data-tags="vodka citrus easy">
                    <div class="card-image">
                        <img src="https://via.placeholder.com/400x300/9c6dbf/ffffff?text=Vodka+Sour" alt="Vodka Sour">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Vodka Sour</h3>
                        <p class="card-description">A smooth blend of vodka, lemon juice, and simple syrup.</p>
                        <div class="card-tags">
                            <span class="tag">Vodka</span>
                            <span class="tag">Citrus</span>
                            <span class="tag">Sour</span>
                        </div>
                        <a href="{{ url_for('main.recipe_detail', id=6) }}" class="card-link">View Recipe <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="cocktail-card" data-tags="rum tropical sweet">
                    <div class="card-image">
                        <img src="https://via.placeholder.com/400x300/bf6d6d/ffffff?text=Pina+Colada" alt="Piña Colada">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Piña Colada</h3>
                        <p class="card-description">Creamy coconut, pineapple, and rum – a tropical vacation in a glass.</p>
                        <div class="card-tags">
                            <span class="tag">Rum</span>
                            <span class="tag">Tropical</span>
                            <span class="tag">Sweet</span>
                        </div>
                        <a href="{{ url_for('main.recipe_detail', id=7) }}" class="card-link">View Recipe <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Card 4 -->
                <div class="cocktail-card" data-tags="tequila citrus easy">
                    <div class="card-image">
                        <img src="https://via.placeholder.com/400x300/6dbf8c/ffffff?text=Tequila+Sunrise" alt="Tequila Sunrise">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Tequila Sunrise</h3>
                        <p class="card-description">Layered tequila, orange juice, and grenadine for a stunning visual effect.</p>
                        <div class="card-tags">
                            <span class="tag">Tequila</span>
                            <span class="tag">Citrus</span>
                            <span class="tag">Colorful</span>
                        </div>
                        <a href="{{ url_for('main.recipe_detail', id=8) }}" class="card-link">View Recipe <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Card 5 -->
                <div class="cocktail-card" data-tags="whiskey strong classic">
                    <div class="card-image">
                        <img src="https://via.placeholder.com/400x300/bfb76d/ffffff?text=Manhattan" alt="Manhattan">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Manhattan</h3>
                        <p class="card-description">A sophisticated mix of whiskey, sweet vermouth, and bitters.</p>
                        <div class="card-tags">
                            <span class="tag">Whiskey</span>
                            <span class="tag">Strong</span>
                            <span class="tag">Classic</span>
                        </div>
                        <a href="{{ url_for('main.recipe_detail', id=9) }}" class="card-link">View Recipe <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Card 6 -->
                <div class="cocktail-card" data-tags="gin herbal complex">
                    <div class="card-image">
                        <img src="https://via.placeholder.com/400x300/6dbfbf/ffffff?text=Aviation" alt="Aviation">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Aviation</h3>
                        <p class="card-description">A floral, violet‑hued cocktail with gin, maraschino, and lemon juice.</p>
                        <div class="card-tags">
                            <span class="tag">Gin</span>
                            <span class="tag">Floral</span>
                            <span class="tag">Complex</span>
                        </div>
                        <a href="{{ url_for('main.recipe_detail', id=10) }}" class="card-link">View Recipe <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Card 7 -->
                <div class="cocktail-card" data-tags="rum refreshing mint">
                    <div class="card-image">
                        <img src="https://via.placeholder.com/400x300/bf6d9c/ffffff?text=Daiquiri" alt="Daiquiri">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Daiquiri</h3>
                        <p class="card-description">Simple, tart, and refreshing – rum, lime, and sugar.</p>
                        <div class="card-tags">
                            <span class="tag">Rum</span>
                            <span class="tag">Citrus</span>
                            <span class="tag">Easy</span>
                        </div>
                        <a href="{{ url_for('main.recipe_detail', id=11) }}" class="card-link">View Recipe <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>

                <!-- Card 8 -->
                <div class="cocktail-card" data-tags="vodka berry sweet">
                    <div class="card-image">
                        <img src="https://via.placeholder.com/400x300/8c6dbf/ffffff?text=Cosmopolitan" alt="Cosmopolitan">
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Cosmopolitan</h3>
                        <p class="card-description">Vodka, cranberry, lime, and triple sec – a stylish, pink cocktail.</p>
                        <div class="card-tags">
                            <span class="tag">Vodka</span>
                            <span class="tag">Berry</span>
                            <span class="tag">Sweet</span>
                        </div>
                        <a href="{{ url_for('main.recipe_detail', id=12) }}" class="card-link">View Recipe <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            </div>

            <!-- Load More Button (placeholder) -->
            <div class="load-more">
                <button class="cta-button secondary" id="loadMore">
                    <i class="fas fa-plus"></i> Load More Recipes
                </button>
            </div>
        </section>
    </div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/search.js') }}"></script>
{% endblock %}